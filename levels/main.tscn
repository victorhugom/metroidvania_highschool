[gd_scene load_steps=24 format=4 uid="uid://bhye2xudcyhv5"]

[ext_resource type="PackedScene" uid="uid://dmxljstjb5ap1" path="res://player/player.tscn" id="1_8mx52"]
[ext_resource type="Texture2D" uid="uid://cvbpv6wotcl2e" path="res://assets/world/CityBGparalax/1.png" id="1_b7m6c"]
[ext_resource type="Material" uid="uid://bhjprxe5y5k3i" path="res://shaders/gradientmap.tres" id="1_viv0j"]
[ext_resource type="Texture2D" uid="uid://cckrgyy87ni7a" path="res://assets/world/CityBGparalax/2.png" id="2_dpg3j"]
[ext_resource type="Shader" path="res://shaders/sakura.gdshader" id="2_e22s8"]
[ext_resource type="TileSet" uid="uid://pyuwg4up8fhx" path="res://levels/main_tileset.tres" id="2_oppkn"]
[ext_resource type="Texture2D" uid="uid://b6rnj5qaca3if" path="res://assets/world/CityBGparalax/3.png" id="3_t4tdf"]
[ext_resource type="Texture2D" uid="uid://4md8j1yw2g0v" path="res://assets/world/CityBGparalax/4.png" id="4_yq8ha"]
[ext_resource type="Texture2D" uid="uid://dlf4p6rbvu51w" path="res://assets/world/CityBGparalax/5.png" id="5_qv2im"]
[ext_resource type="Texture2D" uid="uid://cv126d70gtxwt" path="res://assets/world/CityBGparalax/6.png" id="6_nw8hp"]
[ext_resource type="Shader" path="res://shaders/acceleration_effect.gdshader" id="12_rsgla"]
[ext_resource type="Texture2D" uid="uid://cyks626ojs2bj" path="res://assets/fx/light.png" id="18_4yvbv"]

[sub_resource type="Gradient" id="Gradient_3mdix"]
offsets = PackedFloat32Array(0, 0.655738)
colors = PackedColorArray(0.65704, 0.301702, 0.609216, 1, 0.933333, 0.658824, 0.141176, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_mbmbs"]
gradient = SubResource("Gradient_3mdix")
width = 5

[sub_resource type="ShaderMaterial" id="ShaderMaterial_tr6m4"]
shader = ExtResource("2_e22s8")
shader_parameter/lerper = null
shader_parameter/pal0 = SubResource("GradientTexture1D_mbmbs")

[sub_resource type="Gradient" id="Gradient_mt7q3"]
offsets = PackedFloat32Array(0, 0.991803)
colors = PackedColorArray(0.126566, 0.132766, 0.295898, 1, 0.600663, 0.288117, 0.386918, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_b21od"]
gradient = SubResource("Gradient_mt7q3")
width = 5

[sub_resource type="ShaderMaterial" id="ShaderMaterial_bfyrw"]
shader = ExtResource("2_e22s8")
shader_parameter/lerper = null
shader_parameter/pal0 = SubResource("GradientTexture1D_b21od")

[sub_resource type="Gradient" id="Gradient_g06d5"]
offsets = PackedFloat32Array(0, 0.516908, 1)
colors = PackedColorArray(0.0633688, 0.0442728, 0.126422, 1, 0.299796, 0.371893, 0.647399, 1, 0.64282, 0.681717, 0.857648, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_tqrhq"]
gradient = SubResource("Gradient_g06d5")
width = 5

[sub_resource type="ShaderMaterial" id="ShaderMaterial_npu4g"]
shader = ExtResource("2_e22s8")
shader_parameter/lerper = null
shader_parameter/pal0 = SubResource("GradientTexture1D_tqrhq")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sw7rk"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ts2w3"]
resource_local_to_scene = true
shader = ExtResource("12_rsgla")
shader_parameter/opacity = 0.5
shader_parameter/r = 0.5
shader_parameter/g = null
shader_parameter/b = null
shader_parameter/mix_color = 0.5

[node name="SidescrolingMapExample2" type="Node2D"]

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.45469, 0.531663, 0.731288, 1)

[node name="BG" type="Node2D" parent="."]
z_index = -2
material = ExtResource("1_viv0j")
position = Vector2(6, -20)

[node name="0" type="Parallax2D" parent="BG"]
material = SubResource("ShaderMaterial_tr6m4")
scale = Vector2(5, 5)
scroll_scale = Vector2(0.4, 0.4)
repeat_size = Vector2(320, 0)
repeat_times = 20

[node name="Sprite2D" type="Sprite2D" parent="BG/0"]
use_parent_material = true
texture = ExtResource("1_b7m6c")

[node name="1" type="Parallax2D" parent="BG"]
use_parent_material = true
scroll_scale = Vector2(0.5, 0.5)
repeat_size = Vector2(320, 0)
repeat_times = 100

[node name="Sprite2D" type="Sprite2D" parent="BG/1"]
use_parent_material = true
texture = ExtResource("2_dpg3j")

[node name="2" type="Parallax2D" parent="BG"]
use_parent_material = true
scale = Vector2(2, 2)
scroll_scale = Vector2(0.6, 0.6)
repeat_size = Vector2(320, 0)
repeat_times = 100

[node name="Sprite2D" type="Sprite2D" parent="BG/2"]
use_parent_material = true
texture = ExtResource("3_t4tdf")

[node name="3" type="Parallax2D" parent="BG"]
use_parent_material = true
scale = Vector2(3, 3)
scroll_scale = Vector2(0.7, 0.7)
repeat_size = Vector2(320, 0)
repeat_times = 100

[node name="Sprite2D" type="Sprite2D" parent="BG/3"]
use_parent_material = true
texture = ExtResource("4_yq8ha")

[node name="4" type="Parallax2D" parent="BG"]
use_parent_material = true
scale = Vector2(4, 4)
scroll_scale = Vector2(0.8, 0.8)
repeat_size = Vector2(320, 0)
repeat_times = 100

[node name="Sprite2D" type="Sprite2D" parent="BG/4"]
use_parent_material = true
texture = ExtResource("5_qv2im")

[node name="5" type="Parallax2D" parent="BG"]
use_parent_material = true
scale = Vector2(5, 5)
scroll_scale = Vector2(0.9, 0.9)
repeat_size = Vector2(320, 0)
repeat_times = 100

[node name="Sprite2D" type="Sprite2D" parent="BG/5"]
use_parent_material = true
texture = ExtResource("6_nw8hp")

[node name="Parallax2D_Back" type="Parallax2D" parent="."]
z_index = -1
material = SubResource("ShaderMaterial_bfyrw")
scale = Vector2(0.89, 0.89)
scroll_offset = Vector2(-158, -62)
repeat_size = Vector2(320, 180)
repeat_times = 11

[node name="TileMapLayer" type="TileMapLayer" parent="Parallax2D_Back"]
use_parent_material = true
position = Vector2(13.4831, 10.1124)
tile_set = ExtResource("2_oppkn")

[node name="Parallax2D_Objects" type="Parallax2D" parent="."]
z_index = -1
scroll_scale = Vector2(0.8, 1)
screen_offset = Vector2(-346.222, -46.1111)

[node name="TileMapLayer" type="TileMapLayer" parent="Parallax2D_Objects"]
tile_set = ExtResource("2_oppkn")

[node name="Parallax2D_Base" type="Parallax2D" parent="."]
z_index = 1
material = SubResource("ShaderMaterial_npu4g")

[node name="TileMapLayer" type="TileMapLayer" parent="Parallax2D_Base"]
use_parent_material = true
tile_map_data = PackedByteArray("AAAgAAQAAAALAAIAAAAgAAMAAAALAAEAAAAgAAIAAAALAAEAAAAgAAEAAAALAAEAAAAgAAAAAAALAAAAAAAfAAQAAAAKAAIAAAAfAAMAAAAKAAEAAAAfAAIAAAAKAAEAAAAfAAEAAAAKAAEAAAAfAAAAAAAKAAAAAAAeAAQAAAAKAAIAAAAeAAMAAAAKAAEAAAAeAAIAAAAKAAEAAAAeAAEAAAAKAAEAAAAeAAAAAAAKAAAAAAAdAAQAAAAKAAIAAAAdAAMAAAAKAAEAAAAdAAIAAAAKAAEAAAAdAAEAAAAKAAEAAAAdAAAAAAAKAAAAAAAcAAQAAAAKAAIAAAAcAAMAAAAKAAEAAAAcAAIAAAAKAAEAAAAcAAEAAAAKAAEAAAAcAAAAAAAKAAAAAAAbAAQAAAAKAAIAAAAbAAMAAAAKAAEAAAAbAAIAAAAKAAEAAAAbAAEAAAAKAAEAAAAbAAAAAAAKAAAAAAAaAAQAAAAKAAIAAAAaAAMAAAAKAAEAAAAaAAIAAAAKAAEAAAAaAAEAAAAKAAEAAAAaAAAAAAAKAAAAAAAZAAQAAAAKAAIAAAAZAAMAAAAKAAEAAAAZAAIAAAAKAAEAAAAZAAEAAAAKAAEAAAAZAAAAAAAKAAAAAAAYAAQAAAAKAAIAAAAYAAMAAAAKAAEAAAAYAAIAAAAKAAEAAAAYAAEAAAAKAAEAAAAYAAAAAAAKAAAAAAAXAAQAAAAKAAIAAAAXAAMAAAAKAAEAAAAXAAIAAAAKAAEAAAAXAAEAAAAKAAEAAAAXAAAAAAAKAAAAAAAWAAQAAAAKAAIAAAAWAAMAAAAKAAEAAAAWAAIAAAAKAAEAAAAWAAEAAAAKAAEAAAAWAAAAAAAKAAAAAAAVAAQAAAAKAAIAAAAVAAMAAAAKAAEAAAAVAAIAAAAKAAEAAAAVAAEAAAAKAAEAAAAVAAAAAAAKAAAAAAAUAAQAAAAKAAIAAAAUAAMAAAAKAAEAAAAUAAIAAAAKAAEAAAAUAAEAAAAKAAEAAAAUAAAAAAAKAAAAAAATAAQAAAAKAAIAAAATAAMAAAAKAAEAAAATAAIAAAAKAAEAAAATAAEAAAAKAAEAAAATAAAAAAAKAAAAAAASAAQAAAAKAAIAAAASAAMAAAAKAAEAAAASAAIAAAAKAAEAAAASAAEAAAAKAAEAAAASAAAAAAAKAAAAAAARAAQAAAAKAAIAAAARAAMAAAAKAAEAAAARAAIAAAAKAAEAAAARAAEAAAAKAAEAAAARAAAAAAAKAAAAAAAQAAQAAAAKAAIAAAAQAAMAAAAKAAEAAAAQAAIAAAAKAAEAAAAQAAEAAAAKAAEAAAAQAAAAAAAKAAAAAAAPAAQAAAAKAAIAAAAPAAMAAAAKAAEAAAAPAAIAAAAKAAEAAAAPAAEAAAAKAAEAAAAPAAAAAAAKAAAAAAAOAAQAAAAKAAIAAAAOAAMAAAAKAAEAAAAOAAIAAAAKAAEAAAAOAAEAAAAKAAEAAAAOAAAAAAAKAAAAAAANAAQAAAAKAAIAAAANAAMAAAAKAAEAAAANAAIAAAAKAAEAAAANAAEAAAAKAAEAAAANAAAAAAAKAAAAAAAMAAQAAAAKAAIAAAAMAAMAAAAKAAEAAAAMAAIAAAAKAAEAAAAMAAEAAAAKAAEAAAAMAAAAAAAKAAAAAAALAAQAAAAKAAIAAAALAAMAAAAKAAEAAAALAAIAAAAKAAEAAAALAAEAAAAKAAEAAAALAAAAAAAKAAAAAAAKAAQAAAAKAAIAAAAKAAMAAAAKAAEAAAAKAAIAAAAKAAEAAAAKAAEAAAAKAAEAAAAKAAAAAAAKAAAAAAAJAAQAAAAKAAIAAAAJAAMAAAAKAAEAAAAJAAIAAAAKAAEAAAAJAAEAAAAKAAEAAAAJAAAAAAAKAAAAAAAIAAQAAAAKAAIAAAAIAAMAAAAKAAEAAAAIAAIAAAAKAAEAAAAIAAEAAAAKAAEAAAAIAAAAAAAKAAAAAAAHAAQAAAAKAAIAAAAHAAMAAAAKAAEAAAAHAAIAAAAKAAEAAAAHAAEAAAAKAAEAAAAHAAAAAAAKAAAAAAAGAAQAAAAKAAIAAAAGAAMAAAAKAAEAAAAGAAIAAAAKAAEAAAAGAAEAAAAKAAEAAAAGAAAAAAAKAAAAAAAFAAQAAAAKAAIAAAAFAAMAAAAKAAEAAAAFAAIAAAAKAAEAAAAFAAEAAAAKAAEAAAAFAAAAAAAKAAAAAAAEAAQAAAAKAAIAAAAEAAMAAAAKAAEAAAAEAAIAAAAKAAEAAAAEAAEAAAAKAAEAAAAEAAAAAAAKAAAAAAADAAQAAAAKAAIAAAADAAMAAAAKAAEAAAADAAIAAAAKAAEAAAADAAEAAAAKAAEAAAADAAAAAAAKAAAAAAACAAQAAAAKAAIAAAACAAMAAAAKAAEAAAACAAIAAAAKAAEAAAACAAEAAAAKAAEAAAACAAAAAAAKAAAAAAABAAQAAAAKAAIAAAABAAMAAAAKAAEAAAABAAIAAAAKAAEAAAABAAEAAAAKAAEAAAABAAAAAAAKAAAAAAAAAAQAAAAKAAIAAAAAAAMAAAAKAAEAAAAAAAIAAAAKAAEAAAAAAAEAAAAKAAEAAAAAAAAAAAAKAAAAAAD//wQAAAAKAAIAAAD//wMAAAAKAAEAAAD//wIAAAAKAAEAAAD//wEAAAAKAAEAAAD//wAAAAAKAAAAAAD+/wQAAAAKAAIAAAD+/wMAAAAKAAEAAAD+/wIAAAAKAAEAAAD+/wEAAAAKAAEAAAD+/wAAAAAKAAAAAAD9/wQAAAAKAAIAAAD9/wMAAAAKAAEAAAD9/wIAAAAKAAEAAAD9/wEAAAAKAAEAAAD9/wAAAAAKAAAAAAD8/wQAAAAKAAIAAAD8/wMAAAAKAAEAAAD8/wIAAAAKAAEAAAD8/wEAAAAKAAEAAAD8/wAAAAAKAAAAAAD7/wQAAAAKAAIAAAD7/wMAAAAKAAEAAAD7/wIAAAAKAAEAAAD7/wEAAAAKAAEAAAD7/wAAAAAKAAAAAAD6/wQAAAAKAAIAAAD6/wMAAAAKAAEAAAD6/wIAAAAKAAEAAAD6/wEAAAAKAAEAAAD6/wAAAAAKAAAAAAD5/wQAAAAKAAIAAAD5/wMAAAAKAAEAAAD5/wIAAAAKAAEAAAD5/wEAAAAKAAEAAAD5/wAAAAAKAAAAAAD4/wQAAAAKAAIAAAD4/wMAAAAKAAEAAAD4/wIAAAAKAAEAAAD4/wEAAAAKAAEAAAD4/wAAAAAKAAAAAAD3/wQAAAAKAAIAAAD3/wMAAAAKAAEAAAD3/wIAAAAKAAEAAAD3/wEAAAAKAAEAAAD3/wAAAAAKAAAAAAD2/wQAAAAKAAIAAAD2/wMAAAAKAAEAAAD2/wIAAAAKAAEAAAD2/wEAAAAKAAEAAAD2/wAAAAAKAAAAAAD1/wQAAAAKAAIAAAD1/wMAAAAKAAEAAAD1/wIAAAAKAAEAAAD1/wEAAAAKAAEAAAD1/wAAAAAKAAAAAAD0/wQAAAAKAAIAAAD0/wMAAAAKAAEAAAD0/wIAAAAKAAEAAAD0/wEAAAAKAAEAAAD0/wAAAAAKAAAAAADz/wQAAAAKAAIAAADz/wMAAAAKAAEAAADz/wIAAAAKAAEAAADz/wEAAAAKAAEAAADz/wAAAAAKAAAAAADy/wQAAAAKAAIAAADy/wMAAAAKAAEAAADy/wIAAAAKAAEAAADy/wEAAAAKAAEAAADy/wAAAAAKAAAAAADx/wQAAAAKAAIAAADx/wMAAAAKAAEAAADx/wIAAAAKAAEAAADx/wEAAAAKAAEAAADx/wAAAAAKAAAAAADw/wQAAAAKAAIAAADw/wMAAAAKAAEAAADw/wIAAAAKAAEAAADw/wEAAAAKAAEAAADw/wAAAAAKAAAAAADv/wQAAAAKAAIAAADv/wMAAAAKAAEAAADv/wIAAAAKAAEAAADv/wEAAAAKAAEAAADv/wAAAAAKAAAAAADu/wQAAAAKAAIAAADu/wMAAAAKAAEAAADu/wIAAAAKAAEAAADu/wEAAAAKAAEAAADu/wAAAAAKAAAAAADt/wQAAAAKAAIAAADt/wMAAAAKAAEAAADt/wIAAAAKAAEAAADt/wEAAAAKAAEAAADt/wAAAAAKAAAAAADs/wQAAAAKAAIAAADs/wMAAAAKAAEAAADs/wIAAAAKAAEAAADs/wEAAAAKAAEAAADs/wAAAAAKAAAAAADr/wQAAAAKAAIAAADr/wMAAAAKAAEAAADr/wIAAAAKAAEAAADr/wEAAAAKAAEAAADr/wAAAAAKAAAAAADq/wQAAAAKAAIAAADq/wMAAAAKAAEAAADq/wIAAAAKAAEAAADq/wEAAAAKAAEAAADq/wAAAAAKAAAAAADp/wQAAAAKAAIAAADp/wMAAAAKAAEAAADp/wIAAAAKAAEAAADp/wEAAAAKAAEAAADp/wAAAAAKAAAAAADo/wQAAAAKAAIAAADo/wMAAAAKAAEAAADo/wIAAAAKAAEAAADo/wEAAAAKAAEAAADo/wAAAAAKAAAAAADn/wQAAAAKAAIAAADn/wMAAAAKAAEAAADn/wIAAAAKAAEAAADn/wEAAAAKAAEAAADn/wAAAAAKAAAAAADm/wQAAAAKAAIAAADm/wMAAAAKAAEAAADm/wIAAAAKAAEAAADm/wEAAAAKAAEAAADm/wAAAAAKAAAAAADl/wQAAAAKAAIAAADl/wMAAAAKAAEAAADl/wIAAAAKAAEAAADl/wEAAAAKAAEAAADl/wAAAAAKAAAAAADk/wQAAAAKAAIAAADk/wMAAAAKAAEAAADk/wIAAAAKAAEAAADk/wEAAAAKAAEAAADk/wAAAAAKAAAAAADj/wQAAAAKAAIAAADj/wMAAAAKAAEAAADj/wIAAAAKAAEAAADj/wEAAAAKAAEAAADj/wAAAAAKAAAAAADi/wQAAAAKAAIAAADi/wMAAAAKAAEAAADi/wIAAAAKAAEAAADi/wEAAAAKAAEAAADi/wAAAAAKAAAAAADh/wQAAAAKAAIAAADh/wMAAAAKAAEAAADh/wIAAAAKAAEAAADh/wEAAAAKAAEAAADh/wAAAAAKAAAAAADg/wQAAAAKAAIAAADg/wMAAAAKAAEAAADg/wIAAAAKAAEAAADg/wEAAAAKAAEAAADg/wAAAAAKAAAAAADf/wQAAAAKAAIAAADf/wMAAAAKAAEAAADf/wIAAAAKAAEAAADf/wEAAAAKAAEAAADf/wAAAAAKAAAAAADe/wQAAAAKAAIAAADe/wMAAAAKAAEAAADe/wIAAAAKAAEAAADe/wEAAAAKAAEAAADe/wAAAAAKAAAAAADd/wQAAAAKAAIAAADd/wMAAAAKAAEAAADd/wIAAAAKAAEAAADd/wEAAAAKAAEAAADd/wAAAAAKAAAAAADc/wQAAAAKAAIAAADc/wMAAAAKAAEAAADc/wIAAAAKAAEAAADc/wEAAAAKAAEAAADc/wAAAAAKAAAAAADb/wQAAAAKAAIAAADb/wMAAAAKAAEAAADb/wIAAAAKAAEAAADb/wEAAAAKAAEAAADb/wAAAAAKAAAAAADa/wQAAAAKAAIAAADa/wMAAAAKAAEAAADa/wIAAAAKAAEAAADa/wEAAAAKAAEAAADa/wAAAAAKAAAAAADZ/wQAAAAKAAIAAADZ/wMAAAAKAAEAAADZ/wIAAAAKAAEAAADZ/wEAAAAKAAEAAADZ/wAAAAAKAAAAAADY/wQAAAAKAAIAAADY/wMAAAAKAAEAAADY/wIAAAAKAAEAAADY/wEAAAAKAAEAAADY/wAAAAAKAAAAAADX/wQAAAAKAAIAAADX/wMAAAAKAAEAAADX/wIAAAAKAAEAAADX/wEAAAAKAAEAAADX/wAAAAAKAAAAAADW/wQAAAAKAAIAAADW/wMAAAAKAAEAAADW/wIAAAAKAAEAAADW/wEAAAAKAAEAAADW/wAAAAAKAAAAAADV/wQAAAAKAAIAAADV/wMAAAAKAAEAAADV/wIAAAAKAAEAAADV/wEAAAAKAAEAAADV/wAAAAAKAAAAAADU/wQAAAAJAAIAAADU/wMAAAAJAAEAAADU/wIAAAAJAAEAAADU/wEAAAAJAAEAAADU/wAAAAAJAAAAAAA=")
tile_set = ExtResource("2_oppkn")

[node name="SurfaceDriver" type="Area2D" parent="." groups=["wallkable_wall"]]
position = Vector2(578, 358)
scale = Vector2(1, 10.92)
collision_layer = 32768

[node name="CollisionShape2D" type="CollisionShape2D" parent="SurfaceDriver"]
position = Vector2(-3, 0.144092)
shape = SubResource("RectangleShape2D_sw7rk")

[node name="Player" parent="." instance=ExtResource("1_8mx52")]
material = SubResource("ShaderMaterial_ts2w3")
position = Vector2(72, -23)

[node name="PointLight2D" type="PointLight2D" parent="."]
z_index = -2
position = Vector2(-29, 77)
color = Color(0.77089, 0.628613, 0.34163, 1)
texture = ExtResource("18_4yvbv")

[node name="PointLight2D2" type="PointLight2D" parent="."]
z_index = -8
position = Vector2(252, 72)
color = Color(0.77089, 0.628613, 0.34163, 1)
texture = ExtResource("18_4yvbv")
